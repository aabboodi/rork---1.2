# ุชุทุจูู ูุธุงู ุงูุชุญูู ูู ุงููุตูู ุงููุชูุฏู (Fine-grained Access Control)\n\n## ุงููุฑุญูุฉ ุงูุฃููู - ุชู ุชุทุจูููุง ุจูุฌุงุญ โ\n\n### 1. ุฃููุงุน ุงูุจูุงูุงุช ุงููุญุฏุซุฉ (types/index.ts)\n\n#### ABAC (Attribute-Based Access Control)\n- `ABACPolicy`: ุณูุงุณุงุช ุงูุชุญูู ุงููุจููุฉ ุนูู ุงูุฎุตุงุฆุต\n- `ABACCondition`: ุดุฑูุท ุงูุชุญูู (ุฒูููุฉุ ููุงููุฉุ ุฃูููุฉุ ุนูุงูุงุช)\n- `ABACRequest` ู `ABACDecision`: ุทูุจุงุช ููุฑุงุฑุงุช ุงูุชุญูู\n- `ABACResource`, `ABACAction`, `ABACSubject`: ููุงุฑุฏ ูุฅุฌุฑุงุกุงุช ูุฃุดุฎุงุต\n\n#### RBAC (Role-Based Access Control)\n- `RBACRole`: ุฃุฏูุงุฑ ุงููุณุชุฎุฏููู\n- `RBACPermission`: ุตูุงุญูุงุช ุงูุฃุฏูุงุฑ\n- `UserRoleAssignment`: ุชุนููู ุงูุฃุฏูุงุฑ ูููุณุชุฎุฏููู\n\n#### ุงูุฑุณุงุฆู ุงููุคูุชุฉ (Expiring Messages)\n- `ExpiringMessage`: ุฑุณุงุฆู ุชูุชูู ุตูุงุญูุชูุง\n- `ExpirationPolicy`: ุณูุงุณุงุช ุงูุชูุงุก ุงูุตูุงุญูุฉ\n- `MessageView`: ุชุชุจุน ูุดุงูุฏุฉ ุงูุฑุณุงุฆู\n- `DestructionProof`: ุฅุซุจุงุช ุชุฏููุฑ ุงูุฑุณุงุฆู\n\n#### ุงูุชุญูู ูู ุงููุญุงุฏุซุงุช ุงูุฌูุงุนูุฉ\n- `GroupChatAccessControl`: ุชุญูู ุงููุตูู ูููุฌููุนุงุช\n- `MembershipRule`: ููุงุนุฏ ุงูุนุถููุฉ\n- `ContentPolicy`: ุณูุงุณุงุช ุงููุญุชูู\n- `ModerationSettings`: ุฅุนุฏุงุฏุงุช ุงูุฅุดุฑุงู\n\n#### ุงูุชุญูู ูู ุงูุจูุงูุงุช ุงูุดุฎุตูุฉ\n- `PersonalDataAccessControl`: ุชุญูู ุงูุจูุงูุงุช ุงูุดุฎุตูุฉ\n- `DataCategoryAccess`: ุชุตููู ุงูุจูุงูุงุช\n- `SharingPreferences`: ุชูุถููุงุช ุงููุดุงุฑูุฉ\n- `ConsentRecord`: ุณุฌูุงุช ุงูููุงููุฉ\n\n### 2. ุฎุฏูุฉ ุงูุชุญูู ูู ุงููุตูู (AccessControlService.ts)\n\n#### ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ:\n- **ุชูููู ABAC**: ุชูููู ุงูุณูุงุณุงุช ุงููุจููุฉ ุนูู ุงูุฎุตุงุฆุต\n- **ุฅุฏุงุฑุฉ RBAC**: ุฅุฏุงุฑุฉ ุงูุฃุฏูุงุฑ ูุงูุตูุงุญูุงุช\n- **ุงูุฑุณุงุฆู ุงููุคูุชุฉ**: ุฅูุดุงุก ูุฅุฏุงุฑุฉ ุงูุฑุณุงุฆู ุงููุคูุชุฉ\n- **ุงููุฑุงุฌุนุฉ ูุงูุชุฏููู**: ุชุณุฌูู ุฌููุน ูุฑุงุฑุงุช ุงูุชุญูู\n\n#### ุงูุณูุงุณุงุช ุงูุงูุชุฑุงุถูุฉ:\n1. **ูุฑุงุกุฉ ุงูุฑุณุงุฆู ุงูุฐุงุชูุฉ**: ุงูุณูุงุญ ูููุณุชุฎุฏููู ุจูุฑุงุกุฉ ุฑุณุงุฆููู\n2. **ุฃูุงู ุงูุจูุงูุงุช ุงููุงููุฉ**: ุทูุจ ูุณุชูู ุฃูุงู ุนุงูู ููุจูุงูุงุช ุงููุงููุฉ\n3. **ุณุงุนุงุช ุงูุนูู**: ููุน ุงูุนูููุงุช ุงูุฅุฏุงุฑูุฉ ุฎุงุฑุฌ ุณุงุนุงุช ุงูุนูู\n\n#### ุงูุฃุฏูุงุฑ ุงูุงูุชุฑุงุถูุฉ:\n1. **ุงููุฏูุฑ (Admin)**: ุตูุงุญูุงุช ูุงููุฉ\n2. **ุงููุดุฑู (Moderator)**: ุตูุงุญูุงุช ุงูุฅุดุฑุงู\n3. **ุงูุนุถู (Member)**: ุตูุงุญูุงุช ุฃุณุงุณูุฉ\n\n### 3. ููุญุฉ ุงูุชุญูู (AccessControlDashboard.tsx)\n\n#### ุงูุฃูุณุงู:\n- **ูุธุฑุฉ ุนุงูุฉ**: ุฅุญุตุงุฆูุงุช ุดุงููุฉ\n- **ุงูุณูุงุณุงุช**: ุฅุฏุงุฑุฉ ุณูุงุณุงุช ABAC\n- **ุงูุฃุฏูุงุฑ**: ุฅุฏุงุฑุฉ ุฃุฏูุงุฑ RBAC\n- **ุงูุฑุณุงุฆู**: ุฅุฏุงุฑุฉ ุงูุฑุณุงุฆู ุงููุคูุชุฉ\n- **ุงููุฑุงุฌุนุฉ**: ุณุฌู ุงูุชุฏููู\n\n#### ุงูููุฒุงุช:\n- ุนุฑุถ ุงูุฅุญุตุงุฆูุงุช ูู ุงูููุช ุงููุนูู\n- ุงุฎุชุจุงุฑ ูุฑุงุฑุงุช ุงูุชุญูู\n- ูุฑุงูุจุฉ ุงูุฃูุดุทุฉ ุงูุฃุฎูุฑุฉ\n- ุฅุฏุงุฑุฉ ุงูุณูุงุณุงุช ูุงูุฃุฏูุงุฑ\n\n### 4. ุตูุญุฉ ุงูุชุญูู (app/security/access-control.tsx)\n\n- ุตูุญุฉ ูุฎุตุตุฉ ูุฅุฏุงุฑุฉ ุงูุชุญูู ูู ุงููุตูู\n- ุชูุงูู ูุน ูุธุงู ุงูุชููู\n- ูุงุฌูุฉ ูุณุชุฎุฏู ุจุงููุบุฉ ุงูุนุฑุจูุฉ\n\n### 5. ุงูุชูุงูู ูุน SecurityManager\n\n- ุฅุถุงูุฉ `AccessControlService` ุฅูู `SecurityManager`\n- ุชููุฆุฉ ุงููุธุงู ุนูุฏ ุจุฏุก ุงูุชุดุบูู\n- ุชุณุฌูู ุงูุฃุญุฏุงุซ ุงูุฃูููุฉ\n- ุฅุฏุงุฑุฉ ุงูุชูููู\n\n### 6. ุงูุชูุงูู ูุน ููุญุฉ ุงููุฑุงูุจุฉ ุงูุดุงููุฉ\n\n- ุฅุถุงูุฉ ูุณู ุงูุชุญูู ูู ุงููุตูู\n- ุนุฑุถ ุงูุฅุญุตุงุฆูุงุช ุงูุฃุณุงุณูุฉ\n- ุฑุจุท ูุน ุตูุญุฉ ุงูุชุญูู ุงููุฎุตุตุฉ\n\n## ุงูููุฒุงุช ุงููุทุจูุฉ\n\n### โ ABAC (Attribute-Based Access Control)\n- ุชูููู ุงูุณูุงุณุงุช ุงููุจููุฉ ุนูู ุงูุฎุตุงุฆุต\n- ุดุฑูุท ูุชุนุฏุฏุฉ (ุฒูููุฉุ ููุงููุฉุ ุฃูููุฉ)\n- ูุฑุงุฑุงุช ุฏููุงููููุฉ (ุณูุงุญุ ููุนุ ุดุฑุทู)\n- ุฃููููุฉ ุงูุณูุงุณุงุช\n\n### โ RBAC (Role-Based Access Control)\n- ุฅุฏุงุฑุฉ ุงูุฃุฏูุงุฑ ูุงูุตูุงุญูุงุช\n- ุชุนููู ุงูุฃุฏูุงุฑ ูููุณุชุฎุฏููู\n- ุฃุฏูุงุฑ ุฎุงุตุฉ ุจุงููุฌููุนุงุช\n- ุงูุชูุงุก ุตูุงุญูุฉ ุงูุฃุฏูุงุฑ\n\n### โ ุงูุฑุณุงุฆู ุงููุคูุชุฉ (Expiring Messages)\n- ุฑุณุงุฆู ุชูุชูู ุตูุงุญูุชูุง ุจูุงุกู ุนูู ุงูููุช\n- ุฑุณุงุฆู ุชูุชูู ุจูุงุกู ุนูู ุนุฏุฏ ุงููุดุงูุฏุงุช\n- ุชุชุจุน ุงููุดุงูุฏุงุช ูุงูุชูุงุนูุงุช\n- ุฅุซุจุงุช ุงูุชุฏููุฑ ุงููุดูุฑ\n\n### โ ุงูุชุญูู ูู ุงููุญุงุฏุซุงุช ุงูุฌูุงุนูุฉ\n- ููุงุนุฏ ุงูุนุถููุฉ ุงููุชูุฏูุฉ\n- ุณูุงุณุงุช ุงููุญุชูู\n- ุฅุนุฏุงุฏุงุช ุงูุฅุดุฑุงู\n- ุฅุนุฏุงุฏุงุช ุงูุฎุตูุตูุฉ\n\n### โ ุงูุชุญูู ูู ุงูุจูุงูุงุช ุงูุดุฎุตูุฉ\n- ุชุตููู ุงูุจูุงูุงุช ุญุณุจ ุงูุญุณุงุณูุฉ\n- ุชูุถููุงุช ุงููุดุงุฑูุฉ\n- ุณุฌูุงุช ุงูููุงููุฉ\n- ุณูุงุณุงุช ุงูุงุญุชูุงุธ ุจุงูุจูุงูุงุช\n\n### โ ุงููุฑุงุฌุนุฉ ูุงูุชุฏููู\n- ุชุณุฌูู ุฌููุน ูุฑุงุฑุงุช ุงูุชุญูู\n- ุชุชุจุน ุงูุฃูุดุทุฉ ุงููุดุจููุฉ\n- ุญุณุงุจ ุฏุฑุฌุฉ ุงููุฎุงุทุฑ\n- ุชูุงุฑูุฑ ุงูุงูุชุซุงู\n\n## ุงูุฃูุงู ูุงูุญูุงูุฉ\n\n### ๐ ุงูุชุดููุฑ ูุงูุญูุงูุฉ\n- ุชุดููุฑ ุงูุจูุงูุงุช ุงูุญุณุงุณุฉ\n- ุญูุงูุฉ ุณุฌูุงุช ุงูุชุฏููู\n- ุงูุชูููุนุงุช ุงูุฑูููุฉ\n- ุฅุซุจุงุชุงุช ุงูุชุฏููุฑ\n\n### ๐ก๏ธ ููุงููุฉ ุงูุชูุงุนุจ\n- ูุญุต ุชูุงูู ุงูุจูุงูุงุช\n- ุญูุงูุฉ ูู ุงูุชูุงุนุจ\n- ุณุฌูุงุช ุบูุฑ ูุงุจูุฉ ููุชุบููุฑ\n- ุดููุฏ ุงูุชุฏููุฑ\n\n### ๐ ุงููุฑุงูุจุฉ ูุงูุชูุจููุงุช\n- ูุฑุงูุจุฉ ูู ุงูููุช ุงููุนูู\n- ุชูุจููุงุช ุงูุฃูุดุทุฉ ุงููุดุจููุฉ\n- ุชูุงุฑูุฑ ุฏูุฑูุฉ\n- ููุญุงุช ูุฑุงูุจุฉ ุชูุงุนููุฉ\n\n## ุงูุงุณุชุฎุฏุงู\n\n### ูููุทูุฑูู\n```typescript\n// ุงูุญุตูู ุนูู ุฎุฏูุฉ ุงูุชุญูู\nconst accessControl = AccessControlService.getInstance();\n\n// ูุญุต ุงููุตูู\nconst decision = await accessControl.checkMessageAccess(userId, messageId, 'read');\n\n// ุฅูุดุงุก ุฑุณุงูุฉ ูุคูุชุฉ\nconst success = await accessControl.createExpiringMessage(\n  messageId, \n  chatId, \n  senderId, \n  { type: 'time_based', duration: 24 * 60 * 60 * 1000 }\n);\n\n// ุชุนููู ุฏูุฑ\nconst assigned = await accessControl.assignRole(userId, 'moderator', groupId);\n```\n\n### ูููุณุชุฎุฏููู\n- ุงููุตูู ุนุจุฑ ุงูุฅุนุฏุงุฏุงุช > ุงูุฃูุงู > ุงูุชุญูู ูู ุงููุตูู\n- ุฅุฏุงุฑุฉ ุงูุฃุฏูุงุฑ ูุงูุตูุงุญูุงุช\n- ูุฑุงูุจุฉ ุงูุฃูุดุทุฉ\n- ุชูููู ุงูุฑุณุงุฆู ุงููุคูุชุฉ\n\n## ุงูุชุทููุฑ ุงููุณุชูุจูู\n\n### ุงููุฑุญูุฉ ุงูุซุงููุฉ (ููุชุฑุญุฉ)\n- ุชูุงูู ูุน ุงูุฐูุงุก ุงูุงุตุทูุงุนู ูุงูุชุดุงู ุงูุฃููุงุท\n- ุณูุงุณุงุช ุชููููุฉ ุฐููุฉ\n- ุชุญููู ุงูุณููู ุงููุชูุฏู\n- ุชูุงูู ูุน ุฃูุธูุฉ ุฎุงุฑุฌูุฉ\n\n### ุงูุชุญุณููุงุช ุงูููุชุฑุญุฉ\n- ูุงุฌูุฉ ูุณุชุฎุฏู ูุญุณูุฉ\n- ุชูุงุฑูุฑ ูุชูุฏูุฉ\n- ุชุตุฏูุฑ ุงูุจูุงูุงุช\n- ุชูุงูู ูุน ุฃูุธูุฉ SIEM\n\n---\n\n**ุชู ุชุทุจูู ูุธุงู ุงูุชุญูู ูู ุงููุตูู ุงููุชูุฏู ุจูุฌุงุญ ูุน ุฌููุน ุงูููุฒุงุช ุงููุทููุจุฉ ูุงูุญูุงูุฉ ุงูุดุงููุฉ.**\n"